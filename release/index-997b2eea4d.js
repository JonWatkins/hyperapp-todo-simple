!function(){"use strict";function t(t,o){var r,i=arguments,a=[];for(n=arguments.length;n-- >2;)e.push(i[n]);for(;e.length;)if(Array.isArray(r=e.pop()))for(n=r.length;n--;)e.push(r[n]);else null!=r&&!0!==r&&!1!==r&&("number"==typeof r&&(r+=""),a.push(r));return"string"==typeof t?{tag:t,data:o||{},children:a}:t(o,a)}var n,e=[],o=[],r=function(){return(""+1e7+-1e3+-4e3+-8e3+-1e11).replace(/1|0/g,function(){return(0|16*Math.random()).toString(16)})},i=function(t){return t.todos.concat({done:!1,id:r(),value:t.input})},a=function(t,n){return t.todos.filter(function(t){return n.target.dataset.uuid!==t.id})},u=function(t,n){return t.todos.map(function(t){return n.target.dataset.uuid===t.id?Object.assign({},t,{done:!t.done}):t})},c=function(t,n){return t.todos.map(function(t){return n.target.dataset.uuid===t.id?Object.assign({},t,{value:n.target.textContent}):t})},d={add:function(t){return{input:"",todos:i(t)}},input:function(t,n,e){return{input:e.target.value}},remove:function(t,n,e){return{todos:a(t,e)}},toggle:function(t,n,e){return{todos:u(t,e)}},edit:function(t,n,e){return{todos:c(t,e)}},editEnter:function(t,n,e){e.target.blur()}},l=function(t){return window.localStorage.setItem("todoapp",JSON.stringify(t))},s=function(){return JSON.parse(window.localStorage.getItem("todoapp"))}()||{input:"",placeholder:"Add new todo",todos:[]},f=document.getElementById("todo"),v=function(){return t("header",null,t("h2",null,"todo"),t("p",null,t("em",null,t("small",null,"tap text to edit todo"))," ",t("a",{href:"https://github.com/marcusasplund/hyperapp-todo-simple/"},t("small",null,"source"))))},p=function(n){var e=n.id,o=n.actions;return t("button",{class:"button button-small button-outline","data-uuid":e,onclick:function(t){return o.remove(t)}},"x")},g=function(n){var e=n.id,o=n.actions;return t("button",{class:"button button-small button-outline","data-uuid":e,onclick:function(t){return o.toggle(t)}},"âœ“")},h=function(n){var e=n.actions,o=n.todo;return t("div",{class:"item row"},t("div",{class:"left"},t(p,{actions:e,id:o.id}),t(g,{actions:e,id:o.id})),t("div",{class:o.done?"done right":"right",contenteditable:!0,"data-uuid":o.id,onkeyup:function(t){return 13===t.keyCode?e.editEnter:null},oninput:function(t){return o.value=t.target.textContent||""},onblur:e.edit},o.value))},m=function(n){var e=n.state,o=n.actions;return t("div",{id:"todo-list"},e.todos.filter(function(t){return!t.done}).map(function(n){return t(h,{todo:n,actions:o})}))},y=function(n){var e=n.state,o=n.actions;return t("div",{class:"row"},t("input",{type:"text",onkeyup:function(t){return 13===t.keyCode&&""!==t.target.value?o.add():null},oninput:o.input,value:e.input,placeholder:e.placeholder}))},b=function(n){var e=n.state,o=n.actions;return t("div",{id:"todo-list-done"},e.todos.filter(function(t){return t.done}).map(function(n){return t(h,{todo:n,actions:o})}))},w=function(n){var e=n.state;return t("pre",null,t("code",null,JSON.stringify(e,null,2)))},k=function(n){var e=n.state,o=n.actions;return t("div",{class:"container"},t(v,null),t(m,{state:e,actions:o}),t(y,{state:e,actions:o}),t(b,{state:e,actions:o}),t(w,{state:e}))},x=function(n,e){return t(k,{state:n,actions:e})},O={render:function(t){return l(t)}};"serviceWorker"in navigator&&window.addEventListener("load",function(){navigator.serviceWorker.register("service-worker.js").then(function(t){t.onupdatefound=function(){var n=t.installing;n.onstatechange=function(){switch(n.state){case"installed":navigator.serviceWorker.controller}}}}).catch(function(t){})}),function(t){function n(t){for(x=v(k,x,g,g=a("render",w)(p,m),h=!h);t=o.pop();)t()}function e(){w&&!h&&requestAnimationFrame(n,h=!h)}function r(t){return t&&(t=a("update",u(p,t)))&&e(p=t),p}function i(t,n,e){Object.keys(n||[]).map(function(o){var u=n[o],c=e?e+"."+o:o;"function"==typeof u?t[o]=function(t){a("action",{name:c,data:t});var n=a("resolve",u(p,m,t));return"function"==typeof n?n(r):r(n)}:i(t[o]||(t[o]={}),u,c)})}function a(t,n){return(y[t]||[]).map(function(t){var e=t(p,m,n);null!=e&&(n=e)}),n}function u(t,n){var e={};for(var o in t)e[o]=t[o];for(var o in n)e[o]=n[o];return e}function c(t){if(t&&(t=t.data))return t.key}function d(t,n){if("string"==typeof t)var e=document.createTextNode(t);else{var e=(n=n||"svg"===t.tag)?document.createElementNS("http://www.w3.org/2000/svg",t.tag):document.createElement(t.tag);t.data&&t.data.oncreate&&o.push(function(){t.data.oncreate(e)});for(var r in t.data)l(e,r,t.data[r]);for(var r=0;r<t.children.length;)e.appendChild(d(t.children[r++],n))}return e}function l(t,n,e,o){if("key"===n);else if("style"===n)for(var r in u(o,e=e||{}))t.style[r]=e[r]||"";else{try{t[n]=e}catch(t){}"function"!=typeof e&&(e?t.setAttribute(n,e):t.removeAttribute(n))}}function s(t,n,e){for(var r in u(n,e)){var i=e[r],a="value"===r||"checked"===r?t[r]:n[r];i!==a&&l(t,r,i,a)}e&&e.onupdate&&o.push(function(){e.onupdate(t,n)})}function f(t,n,e){e&&e.onremove?e.onremove(n):t.removeChild(n)}function v(t,n,e,o,r,i){if(null==e)n=t.insertBefore(d(o,r),n);else if(null!=o.tag&&o.tag===e.tag){s(n,e.data,o.data),r=r||"svg"===o.tag;for(var a=o.children.length,u=e.children.length,l={},p=[],g={},h=0;h<u;h++){var m=p[h]=n.childNodes[h],y=e.children[h],b=c(y);null!=b&&(l[b]=[m,y])}for(var h=0,w=0;w<a;){var m=p[h],y=e.children[h],k=o.children[w],b=c(y);if(g[b])h++;else{var x=c(k),O=l[x]||[];null==x?(null==b&&(v(n,m,y,k,r),w++),h++):(b===x?(v(n,O[0],O[1],k,r),h++):O[0]?(n.insertBefore(O[0],m),v(n,O[0],O[1],k,r)):v(n,m,null,k,r),w++,g[x]=k)}}for(;h<u;){var y=e.children[h],b=c(y);null==b&&f(n,p[h],y.data),h++}for(var h in l){var O=l[h],S=O[1];g[S.data.key]||f(n,O[0],S.data)}}else n&&o!==n.nodeValue&&(n=t.insertBefore(d(o,r),i=n),f(t,i,e.data));return n}for(var p,g,h,m={},y={},b=[],w=t.view,k=t.root||document.body,x=k.children[0],O=-1;O<b.length;O++)t=b[O]?b[O](a):t,Object.keys(t.events||[]).map(function(n){y[n]=(y[n]||[]).concat(t.events[n])}),i(m,t.actions),b=b.concat(t.mixins||[]),p=u(p,t.state);e((g=a("load",x))===x&&(g=x=null))}({actions:d,state:s,root:f,view:x,events:O})}();